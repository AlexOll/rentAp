function ForgotPassController(n,t,i,r,u){n.test=function(n){alert(n)};n.forgotPassword=function(){n.dataLoading=!0;r.ForgotPass(n.email,function(n){n.status===204?(u.success("Your new Password was sent","Check email!"),t.path("/")):u.error("Noooo oo oo ooooo!!!","Title",{timeOut:"0",extendedTImeout:"0"})})};n.resendActivationCode=function(){n.dataLoading=!0;r.ResendActivationCode(n.email,function(n){n.status===204?(u.success("Your new Activation Code was sent","Check email!"),t.path("/")):u.error("Noooo oo oo ooooo!!!","Title",{timeOut:"0",extendedTImeout:"0"})})}}function RegisterController(n,t,i,r){n.register=function(){n.dataLoading=!0;t.Create(n.user,function(t){t.status===200?t.data.message!==null?r.warning(t.data.message,"Warning"):(r.success("Registration succeeded","Check your e-mail for submition"),i.path("/")):$mdDialog.show($mdDialog.alert().clickOutsideToClose(!0).title("You shall not pass").textContent("Account doesn't exist!").ok("Back").targetEvent(ev));n.dataLoading=!1})}}function uniqueDirective(n){var t;return{restrict:"A",require:"ngModel",link:function(i,r,u,f){i.$watch(u.ngModel,function(i){t&&clearTimeout(t);t=setTimeout(function(){if(f.$setValidity("duplicate",!0),i&&!f.$error.pattern){var t="";u.id==="username"?t="/api/user/usernamecheck":u.id==="email"&&(t="/api/user/emailcheck");n.get(t,{params:{value:i}}).then(function(n){n.data?f.$setValidity("duplicate",!1):f.$setValidity("duplicate",!0)})}},500)})}}}class MyService1{sayHello(){console.log("hello1")}}class MyService2{sayHello(){console.log("hello2")}}class UserService{constructor(n){this.$http=n}Create(n,t){return this.$http.post("/api/user",{Username:n.username,FirstName:n.firstName,LastName:n.lastName,Password:n.password,Email:n.email}).then(n=>t(n))}}class AuthenticationService{constructor(n,t,i){this.$http=n;this.$cookies=t;this.$rootScope=i;this.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}Login(n,t,i){this.$http.post("/api/authentication",{Username:n,Password:t}).then(n=>i(n))}ForgotPass(n,t){this.$http.get("/api/authentication/forgotpassword/"+n).then(n=>t(n))}ResendActivationCode(n,t){this.$http.get("/api/authentication/newactivationcode/"+n).then(n=>t(n))}CheckActivationCode(n,t){this.$http.get("/api/authentication/"+n).then(n=>t(n))}SetCredentials(n,t){var u=n+":"+t,r=this.Base64Encode(u),i;this.$rootScope.globals={currentUser:{username:n,authdata:r}};this.$http.defaults.headers.common.Authorization="Basic "+r;i=new Date;i.setDate(i.getDate()+7);this.$cookies.putObject("globals",this.$rootScope.globals,{expires:i})}ClearCredentials(){$rootScope.globals={};$cookies.remove("globals");$http.defaults.headers.common.Authorization="Basic"}Base64Encode(n){var o="",u,t,i="",s,h,f,r="",e=0;do u=n.charCodeAt(e++),t=n.charCodeAt(e++),i=n.charCodeAt(e++),s=u>>2,h=(u&3)<<4|t>>4,f=(t&15)<<2|i>>6,r=i&63,isNaN(t)?f=r=64:isNaN(i)&&(r=64),o=o+this.keyStr.charAt(s)+this.keyStr.charAt(h)+this.keyStr.charAt(f)+this.keyStr.charAt(r),u=t=i="",s=h=f=r="";while(e<n.length);return o}Base64Decode(n){var t="",e,o,s="",h,u,i,f="",r=0;/[^A-Za-z0-9\+\/\=]/g.exec(n)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do h=this.keyStr.indexOf(n.charAt(r++)),u=this.keyStr.indexOf(n.charAt(r++)),i=this.keyStr.indexOf(n.charAt(r++)),f=this.keyStr.indexOf(n.charAt(r++)),e=h<<2|u>>4,o=(u&15)<<4|i>>2,s=(i&3)<<6|f,t=t+String.fromCharCode(e),i!==64&&(t=t+String.fromCharCode(o)),f!==64&&(t=t+String.fromCharCode(s)),e=o=s="",h=u=i=f="";while(r<n.length);return t}}angular.module("services",[]).service("MyService1",MyService1).service("MyService2",MyService2).service("UserService",UserService).service("AuthenticationService",AuthenticationService);angular.module("myApp.version.version-directive",[]).directive("appVersion",["version",function(n){return function(t,i){i.text(n)}}]);angular.module("myApp.version.interpolate-filter",[]).filter("interpolate",["version",function(n){return function(t){return String(t).replace(/\%VERSION\%/mg,n)}}]);angular.module("myApp.version",["myApp.version.interpolate-filter","myApp.version.version-directive"]).value("version","0.1");angular.module("myApp.login",["ngRoute","ngMaterial","services","toastr"]).controller("loginCtrl",["$scope","$location","$mdDialog","AuthenticationService","toastr",function(n,t,i,r,u){var f=t.search().activationcode;f&&r.CheckActivationCode(f,function(n){n.data.message?u.error(n.data.message,"Error",{timeOut:"0",extendedTImeout:"0"}):(u.success("Activation code found","You may now login!"),t.path("/login"))});n.login=function(f){n.dataLoading=!0;r.Login(n.username,n.password,function(e){e.data.message?(alert=i.alert({title:"You shall not pass",textContent:e.data.message,ok:"Close",clickOutsideToClose:!0,targetEvent:f}),i.show(alert),n.dataLoading=!1):(r.SetCredentials(n.username,n.password),u.success("Authentication succeeded","Have fun!"),t.path("/"))})}}]);angular.module("myApp.forgotpassword",["ngRoute","ngMaterial","services","toastr","directives"]).controller("forgotpasswordCtrl",ForgotPassController);ForgotPassController.$inject=["$scope","$location","$mdDialog","AuthenticationService","toastr"];angular.module("myApp.register",["ngRoute","services","toastr","directives"]).controller("registerCtrl",RegisterController);RegisterController.$inject=["$scope","UserService","$location","toastr"];angular.module("myApp.home",["ngRoute"]).controller("homeCtrl",["$scope","$routeParams",function(n){n.title="Angular test"}]);angular.module("myApp.view2",["ngRoute"]).controller("View2Ctrl",[function(){}]);angular.module("myApp.view3",["ngRoute","ngCookies","services"]).controller("View3Ctrl",["$cookies","MyService1","MyService2",function(n,t,i){t.sayHello();i.sayHello()}]);angular.module("directives",[]).directive("uniqueField",uniqueDirective);uniqueDirective.$inject=["$http"];